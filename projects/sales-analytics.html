<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sales Analytics Dashboard - ECharts Mastery Guide</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <style>
        .sales-dashboard {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        
        .dashboard-header {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dashboard-title {
            text-align: center;
            margin: 0;
            font-size: 2rem;
            font-weight: 700;
        }
        
        .dashboard-subtitle {
            text-align: center;
            margin: 10px 0 0 0;
            opacity: 0.8;
            font-size: 1rem;
        }
        
        .kpi-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .kpi-card {
            background: rgba(255, 255, 255, 0.1);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease;
        }
        
        .kpi-card:hover {
            transform: translateY(-5px);
        }
        
        .kpi-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .kpi-label {
            font-size: 1rem;
            opacity: 0.8;
            margin-bottom: 15px;
        }
        
        .kpi-change {
            font-size: 0.9rem;
            padding: 5px 10px;
            border-radius: 20px;
            display: inline-block;
        }
        
        .kpi-positive { background: rgba(34, 197, 94, 0.3); color: #4ade80; }
        .kpi-negative { background: rgba(239, 68, 68, 0.3); color: #f87171; }
        
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            padding: 20px;
        }
        
        .chart-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .chart-title {
            margin: 0 0 20px 0;
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .filters-panel {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 20px;
        }
        
        .filter-group {
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .filter-select {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 8px 15px;
            border-radius: 8px;
            outline: none;
        }
        
        .filter-select option {
            background: #333;
            color: white;
        }
        
        .filter-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .filter-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        .filter-btn.active {
            background: #4ade80;
        }
        
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
                padding: 10px;
            }
            
            .kpi-cards {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .filter-group {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body class="sales-dashboard">
    <div class="container">
        <header class="dashboard-header">
            <h1 class="dashboard-title">ðŸ“Š Sales Analytics Dashboard</h1>
            <p class="dashboard-subtitle">Comprehensive sales performance analysis and insights</p>
        </header>

        <!-- KPI Cards -->
        <div class="kpi-cards">
            <div class="kpi-card">
                <div class="kpi-value" id="total-revenue">$2,847,392</div>
                <div class="kpi-label">Total Revenue</div>
                <div class="kpi-change kpi-positive" id="revenue-change">+12.5% vs last month</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-value" id="total-orders">15,847</div>
                <div class="kpi-label">Total Orders</div>
                <div class="kpi-change kpi-positive" id="orders-change">+8.3% vs last month</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-value" id="avg-order">$179.65</div>
                <div class="kpi-label">Average Order Value</div>
                <div class="kpi-change kpi-positive" id="aov-change">+3.9% vs last month</div>
            </div>
            <div class="kpi-card">
                <div class="kpi-value" id="conversion-rate">3.2%</div>
                <div class="kpi-label">Conversion Rate</div>
                <div class="kpi-change kpi-negative" id="conversion-change">-0.5% vs last month</div>
            </div>
        </div>

        <!-- Filters Panel -->
        <div class="filters-panel">
            <div class="filter-group">
                <label>Time Period:</label>
                <select class="filter-select" id="time-filter">
                    <option value="7d">Last 7 Days</option>
                    <option value="30d" selected>Last 30 Days</option>
                    <option value="90d">Last 90 Days</option>
                    <option value="1y">Last Year</option>
                </select>
                
                <label>Region:</label>
                <select class="filter-select" id="region-filter">
                    <option value="all" selected>All Regions</option>
                    <option value="north">North America</option>
                    <option value="europe">Europe</option>
                    <option value="asia">Asia Pacific</option>
                    <option value="latin">Latin America</option>
                </select>
                
                <label>Product Category:</label>
                <select class="filter-select" id="category-filter">
                    <option value="all" selected>All Categories</option>
                    <option value="electronics">Electronics</option>
                    <option value="clothing">Clothing</option>
                    <option value="books">Books</option>
                    <option value="home">Home & Garden</option>
                </select>
                
                <button class="filter-btn" onclick="applyFilters()">Apply Filters</button>
                <button class="filter-btn" onclick="resetFilters()">Reset</button>
            </div>
        </div>

        <!-- Dashboard Grid -->
        <div class="dashboard-grid">
            <!-- Revenue Trend -->
            <div class="chart-container">
                <h3 class="chart-title">Revenue Trend</h3>
                <div id="revenue-trend" style="width: 100%; height: 350px;"></div>
            </div>

            <!-- Sales by Category -->
            <div class="chart-container">
                <h3 class="chart-title">Sales by Product Category</h3>
                <div id="category-sales" style="width: 100%; height: 350px;"></div>
            </div>

            <!-- Regional Performance -->
            <div class="chart-container">
                <h3 class="chart-title">Regional Performance</h3>
                <div id="regional-performance" style="width: 100%; height: 350px;"></div>
            </div>

            <!-- Customer Segments -->
            <div class="chart-container">
                <h3 class="chart-title">Customer Segments Analysis</h3>
                <div id="customer-segments" style="width: 100%; height: 350px;"></div>
            </div>

            <!-- Sales Funnel -->
            <div class="chart-container">
                <h3 class="chart-title">Sales Funnel</h3>
                <div id="sales-funnel" style="width: 100%; height: 350px;"></div>
            </div>

            <!-- Product Performance -->
            <div class="chart-container">
                <h3 class="chart-title">Top Products Performance</h3>
                <div id="product-performance" style="width: 100%; height: 350px;"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/echarts/dist/echarts.min.js"></script>
    <script>
        // Initialize charts
        var revenueTrend = echarts.init(document.getElementById('revenue-trend'));
        var categorySales = echarts.init(document.getElementById('category-sales'));
        var regionalPerformance = echarts.init(document.getElementById('regional-performance'));
        var customerSegments = echarts.init(document.getElementById('customer-segments'));
        var salesFunnel = echarts.init(document.getElementById('sales-funnel'));
        var productPerformance = echarts.init(document.getElementById('product-performance'));

        // Revenue Trend Chart
        var revenueOption = {
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'axis',
                axisPointer: { type: 'cross' }
            },
            legend: {
                data: ['Revenue', 'Orders'],
                textStyle: { color: 'white' }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                axisLabel: { color: 'white' }
            },
            yAxis: [
                {
                    type: 'value',
                    name: 'Revenue ($K)',
                    axisLabel: { color: 'white' },
                    nameTextStyle: { color: 'white' }
                },
                {
                    type: 'value',
                    name: 'Orders',
                    axisLabel: { color: 'white' },
                    nameTextStyle: { color: 'white' }
                }
            ],
            series: [
                {
                    name: 'Revenue',
                    type: 'line',
                    smooth: true,
                    data: [120, 132, 101, 134, 90, 230, 210, 182, 191, 234, 290, 330],
                    itemStyle: { color: '#4ade80' },
                    areaStyle: {
                        color: {
                            type: 'linear',
                            x: 0, y: 0, x2: 0, y2: 1,
                            colorStops: [
                                { offset: 0, color: 'rgba(74, 222, 128, 0.3)' },
                                { offset: 1, color: 'rgba(74, 222, 128, 0.1)' }
                            ]
                        }
                    }
                },
                {
                    name: 'Orders',
                    type: 'bar',
                    yAxisIndex: 1,
                    data: [220, 182, 191, 234, 290, 330, 310, 123, 442, 321, 90, 149],
                    itemStyle: { color: '#60a5fa' }
                }
            ]
        };

        // Category Sales Chart
        var categoryOption = {
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'item',
                formatter: '{a} <br/>{b}: ${c}K ({d}%)'
            },
            legend: {
                orient: 'vertical',
                left: 'left',
                textStyle: { color: 'white' }
            },
            series: [
                {
                    name: 'Sales',
                    type: 'pie',
                    radius: ['40%', '70%'],
                    center: ['60%', '50%'],
                    data: [
                        { value: 1048, name: 'Electronics', itemStyle: { color: '#4ade80' } },
                        { value: 735, name: 'Clothing', itemStyle: { color: '#60a5fa' } },
                        { value: 580, name: 'Books', itemStyle: { color: '#fbbf24' } },
                        { value: 484, name: 'Home & Garden', itemStyle: { color: '#f87171' } },
                        { value: 300, name: 'Sports', itemStyle: { color: '#a78bfa' } }
                    ],
                    emphasis: {
                        itemStyle: {
                            shadowBlur: 10,
                            shadowOffsetX: 0,
                            shadowColor: 'rgba(0, 0, 0, 0.5)'
                        }
                    }
                }
            ]
        };

        // Regional Performance Chart
        var regionalOption = {
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'axis',
                axisPointer: { type: 'shadow' }
            },
            legend: {
                data: ['Revenue', 'Orders'],
                textStyle: { color: 'white' }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: ['North America', 'Europe', 'Asia Pacific', 'Latin America'],
                axisLabel: { color: 'white' }
            },
            yAxis: {
                type: 'value',
                name: 'Revenue ($K)',
                axisLabel: { color: 'white' },
                nameTextStyle: { color: 'white' }
            },
            series: [
                {
                    name: 'Revenue',
                    type: 'bar',
                    data: [1200, 800, 600, 400],
                    itemStyle: { color: '#4ade80' }
                },
                {
                    name: 'Orders',
                    type: 'bar',
                    data: [8000, 6000, 4500, 3000],
                    itemStyle: { color: '#60a5fa' }
                }
            ]
        };

        // Customer Segments Chart
        var customerOption = {
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'item'
            },
            radar: {
                indicator: [
                    { name: 'Purchase Frequency', max: 100 },
                    { name: 'Average Order Value', max: 100 },
                    { name: 'Customer Lifetime Value', max: 100 },
                    { name: 'Brand Loyalty', max: 100 },
                    { name: 'Referral Rate', max: 100 }
                ],
                axisName: {
                    color: 'white'
                },
                splitLine: {
                    lineStyle: {
                        color: 'rgba(255, 255, 255, 0.2)'
                    }
                },
                splitArea: {
                    show: false
                }
            },
            series: [
                {
                    name: 'Customer Segments',
                    type: 'radar',
                    data: [
                        {
                            value: [85, 90, 95, 80, 75],
                            name: 'Premium Customers',
                            itemStyle: { color: '#4ade80' },
                            areaStyle: {
                                color: 'rgba(74, 222, 128, 0.3)'
                            }
                        },
                        {
                            value: [60, 70, 65, 75, 60],
                            name: 'Regular Customers',
                            itemStyle: { color: '#60a5fa' },
                            areaStyle: {
                                color: 'rgba(96, 165, 250, 0.3)'
                            }
                        },
                        {
                            value: [40, 50, 45, 60, 40],
                            name: 'New Customers',
                            itemStyle: { color: '#fbbf24' },
                            areaStyle: {
                                color: 'rgba(251, 191, 36, 0.3)'
                            }
                        }
                    ]
                }
            ]
        };

        // Sales Funnel Chart
        var funnelOption = {
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'item',
                formatter: '{a} <br/>{b}: {c} ({d}%)'
            },
            series: [
                {
                    name: 'Sales Funnel',
                    type: 'funnel',
                    left: '10%',
                    top: 60,
                    width: '80%',
                    height: '80%',
                    min: 0,
                    max: 100000,
                    minSize: '0%',
                    maxSize: '100%',
                    sort: 'descending',
                    gap: 2,
                    label: {
                        show: true,
                        position: 'inside',
                        color: 'white'
                    },
                    labelLine: {
                        length: 10,
                        lineStyle: {
                            width: 1,
                            type: 'solid'
                        }
                    },
                    itemStyle: {
                        borderColor: '#fff',
                        borderWidth: 1
                    },
                    emphasis: {
                        label: {
                            fontSize: 20
                        }
                    },
                    data: [
                        { value: 100000, name: 'Website Visitors', itemStyle: { color: '#4ade80' } },
                        { value: 80000, name: 'Product Views', itemStyle: { color: '#60a5fa' } },
                        { value: 60000, name: 'Add to Cart', itemStyle: { color: '#fbbf24' } },
                        { value: 40000, name: 'Checkout Started', itemStyle: { color: '#f87171' } },
                        { value: 20000, name: 'Orders Completed', itemStyle: { color: '#a78bfa' } }
                    ]
                }
            ]
        };

        // Product Performance Chart
        var productOption = {
            backgroundColor: 'transparent',
            tooltip: {
                trigger: 'axis',
                axisPointer: { type: 'shadow' }
            },
            legend: {
                data: ['Revenue', 'Units Sold'],
                textStyle: { color: 'white' }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis: {
                type: 'category',
                data: ['iPhone 15', 'MacBook Pro', 'AirPods Pro', 'iPad Air', 'Apple Watch'],
                axisLabel: { color: 'white' }
            },
            yAxis: [
                {
                    type: 'value',
                    name: 'Revenue ($K)',
                    axisLabel: { color: 'white' },
                    nameTextStyle: { color: 'white' }
                },
                {
                    type: 'value',
                    name: 'Units Sold',
                    axisLabel: { color: 'white' },
                    nameTextStyle: { color: 'white' }
                }
            ],
            series: [
                {
                    name: 'Revenue',
                    type: 'bar',
                    data: [500, 400, 300, 250, 200],
                    itemStyle: { color: '#4ade80' }
                },
                {
                    name: 'Units Sold',
                    type: 'line',
                    yAxisIndex: 1,
                    data: [1000, 800, 1200, 600, 400],
                    itemStyle: { color: '#60a5fa' },
                    lineStyle: { width: 3 }
                }
            ]
        };

        // Set chart options
        revenueTrend.setOption(revenueOption);
        categorySales.setOption(categoryOption);
        regionalPerformance.setOption(regionalOption);
        customerSegments.setOption(customerOption);
        salesFunnel.setOption(funnelOption);
        productPerformance.setOption(productOption);

        // Filter functions
        function applyFilters() {
            const timeFilter = document.getElementById('time-filter').value;
            const regionFilter = document.getElementById('region-filter').value;
            const categoryFilter = document.getElementById('category-filter').value;
            
            console.log('Applying filters:', { timeFilter, regionFilter, categoryFilter });
            
            // Simulate data update
            updateKPIs();
        }

        function resetFilters() {
            document.getElementById('time-filter').value = '30d';
            document.getElementById('region-filter').value = 'all';
            document.getElementById('category-filter').value = 'all';
            
            console.log('Filters reset');
            updateKPIs();
        }

        function updateKPIs() {
            // Simulate real-time KPI updates
            const revenue = Math.floor(Math.random() * 500000) + 2500000;
            const orders = Math.floor(Math.random() * 5000) + 15000;
            const aov = (revenue / orders).toFixed(2);
            const conversion = (Math.random() * 2 + 2.5).toFixed(1);
            
            document.getElementById('total-revenue').textContent = '$' + revenue.toLocaleString();
            document.getElementById('total-orders').textContent = orders.toLocaleString();
            document.getElementById('avg-order').textContent = '$' + aov;
            document.getElementById('conversion-rate').textContent = conversion + '%';
        }

        // Simulate real-time updates
        setInterval(() => {
            if (Math.random() > 0.7) {
                updateKPIs();
            }
        }, 10000);

        // Handle window resize
        window.addEventListener('resize', function() {
            revenueTrend.resize();
            categorySales.resize();
            regionalPerformance.resize();
            customerSegments.resize();
            salesFunnel.resize();
            productPerformance.resize();
        });
    </script>
</body>
</html>
